#!/usr/bin/python

import requests
import json

apic = '10.54.61.56'
#vcenter_ip = '10.54.60.110'
#vCenter_Datacenter = 'cphlab'
#vmm_controller = 'cphlab-vcenter2.cisco.com'
#vmm_credentials = 'vcenter-credentials-sedk'

user = 'admin'
password = 'Cisco123'
#vcenter_user = 'devops'
#vcenter_password = 'Cisco123'

#import requests.packages.urllib3
#requests.packages.urllib3.disable_warnings()

auth = {'aaaUser': {'attributes': {'name': user, 'pwd': password } } }

sesh = requests.Session()
resp = sesh.post('https://{0}/api/mo/aaaLogin.json'.format(apic), data=json.dumps(auth), verify=False)
status = resp.status_code
cookies = resp.cookies
print status



# My payload
jsondata =  {"fvTenant":{"attributes":{"descr":"","dn":"uni/tn-tenant3","name":"tenant3","ownerKey":"","ownerTag":""},"children":[{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_SSH","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_SSH","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"ssh"}}}]}}]}},{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_DB","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_DB","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"db"}}}]}}]}},{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_ICMP","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_ICMP","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"icmp"}}}]}}]}},{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_HTTP","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_HTTP","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"http"}}}]}}]}},{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_RDP","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_RDP","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"rdp"}}}]}}]}},{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_Linux","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_SSH","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"ssh"}}}]}},{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_ICMP","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"icmp"}}}]}}]}},{"vzBrCP":{"attributes":{"descr":"","name":"Con_Ten_Windows","ownerKey":"","ownerTag":"","prio":"unspecified","scope":"tenant"},"children":[{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_RDP","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"rdp"}}}]}},{"vzSubj":{"attributes":{"consMatchT":"AtleastOne","descr":"","name":"Sub_ICMP","prio":"unspecified","provMatchT":"AtleastOne","revFltPorts":"yes"},"children":[{"vzRsSubjFiltAtt":{"attributes":{"tnVzFilterName":"icmp"}}}]}}]}},{"vnsAbsGraph":{"attributes":{"descr":"","name":"SG_ASAv_Template","ownerKey":"","ownerTag":"","uiTemplateType":"ONE_NODE_FW_ROUTED"},"children":[{"vnsAbsTermNodeCon":{"attributes":{"descr":"","name":"T1","ownerKey":"","ownerTag":""},"children":[{"vnsAbsTermConn":{"attributes":{"attNotify":"no","descr":"","name":"1","ownerKey":"","ownerTag":""}}},{"vnsInTerm":{"attributes":{"descr":"","name":"input-terminal"}}},{"vnsOutTerm":{"attributes":{"descr":"","name":"output-terminal"}}}]}},{"vnsAbsTermNodeProv":{"attributes":{"descr":"","name":"T2","ownerKey":"","ownerTag":""},"children":[{"vnsAbsTermConn":{"attributes":{"attNotify":"no","descr":"","name":"1","ownerKey":"","ownerTag":""}}},{"vnsInTerm":{"attributes":{"descr":"","name":"input-terminal"}}},{"vnsOutTerm":{"attributes":{"descr":"","name":"output-terminal"}}}]}},{"vnsAbsConnection":{"attributes":{"adjType":"L2","connDir":"provider","connType":"external","descr":"","name":"C1","ownerKey":"","ownerTag":"","unicastRoute":"yes"},"children":[{"vnsRsAbsConnectionConns":{"attributes":{"tDn":"uni/tn-tenant3/AbsGraph-SG_ASAv_Template/AbsNode-Firewall/AbsFConn-external"}}},{"vnsRsAbsConnectionConns":{"attributes":{"tDn":"uni/tn-tenant3/AbsGraph-SG_ASAv_Template/AbsTermNodeCon-T1/AbsTConn"}}}]}},{"vnsAbsConnection":{"attributes":{"adjType":"L2","connDir":"provider","connType":"external","descr":"","name":"C2","ownerKey":"","ownerTag":"","unicastRoute":"yes"},"children":[{"vnsRsAbsConnectionConns":{"attributes":{"tDn":"uni/tn-tenant3/AbsGraph-SG_ASAv_Template/AbsTermNodeProv-T2/AbsTConn"}}},{"vnsRsAbsConnectionConns":{"attributes":{"tDn":"uni/tn-tenant3/AbsGraph-SG_ASAv_Template/AbsNode-Firewall/AbsFConn-internal"}}}]}},{"vnsAbsNode":{"attributes":{"descr":"","funcTemplateType":"OTHER","funcType":"GoTo","managed":"yes","name":"Firewall","ownerKey":"","ownerTag":"","sequenceNumber":"0","shareEncap":"no"},"children":[{"vnsAbsFuncConn":{"attributes":{"attNotify":"no","descr":"","name":"external","ownerKey":"","ownerTag":""},"children":[{"vnsRsMConnAtt":{"attributes":{"tDn":"uni/infra/mDev-CISCO-ASA-1.2/mFunc-Firewall/mConn-external"}}}]}},{"vnsAbsFuncConn":{"attributes":{"attNotify":"no","descr":"","name":"internal","ownerKey":"","ownerTag":""},"children":[{"vnsRsMConnAtt":{"attributes":{"tDn":"uni/infra/mDev-CISCO-ASA-1.2/mFunc-Firewall/mConn-internal"}}}]}},{"vnsRsNodeToAbsFuncProf":{"attributes":{"tDn":"uni/infra/mDev-CISCO-ASA-1.2/absFuncProfContr/absFuncProfGrp-WebServiceProfileGroup/absFuncProf-WebPolicyForRoutedMode"}}},{"vnsRsNodeToMFunc":{"attributes":{"tDn":"uni/infra/mDev-CISCO-ASA-1.2/mFunc-Firewall"}}}]}}]}},{"drawCont":{"attributes":{},"children":[{"drawInst":{"attributes":{"info":"{'epg-Ext_L3_OSPF-extInst-cloud':{'x':700,'y':60},'epg-EPG-2-undefined':{'x':428,'y':355},'ctrct_provider-Con_RDP-undefined':{'x':654,'y':487},'ctrct_provider-Con_ICMP-undefined':{'x':525,'y':482},'epg-EPG-1-undefined':{'x':818,'y':353}}","oDn":"uni/tn-tenant3/ap-test-application1"}}}]}},{"fvCtx":{"attributes":{"descr":"","knwMcastAct":"permit","name":"VRF_1","ownerKey":"","ownerTag":"","pcEnfDir":"egress","pcEnfPref":"enforced"},"children":[{"fvRsCtxToExtRouteTagPol":{"attributes":{"tnL3extRouteTagPolName":""}}},{"fvRsBgpCtxPol":{"attributes":{"tnBgpCtxPolName":""}}},{"vzAny":{"attributes":{"descr":"","matchT":"AtleastOne","name":""}}},{"fvRsOspfCtxPol":{"attributes":{"tnOspfCtxPolName":""}}},{"fvRsCtxToEpRet":{"attributes":{"tnFvEpRetPolName":""}}}]}},{"fvBD":{"attributes":{"arpFlood":"no","descr":"","epMoveDetectMode":"","limitIpLearnToSubnets":"yes","llAddr":"::","mac":"00:22:BD:F8:19:FF","multiDstPktAct":"bd-flood","name":"BD_10-54-62-161_29","ownerKey":"","ownerTag":"","unicastRoute":"yes","unkMacUcastAct":"proxy","unkMcastAct":"flood","vmac":"not-applicable"},"children":[{"fvRsBDToNdP":{"attributes":{"tnNdIfPolName":""}}},{"fvRsBDToOut":{"attributes":{"tnL3extOutName":"L3out_External_VRF_1"}}},{"fvRsCtx":{"attributes":{"tnFvCtxName":"VRF_1"}}},{"fvRsIgmpsn":{"attributes":{"tnIgmpSnoopPolName":""}}},{"fvSubnet":{"attributes":{"ctrl":"querier","descr":"","ip":"10.54.62.161/29","name":"","preferred":"no","scope":"public","virtual":"no"}}},{"fvRsBdToEpRet":{"attributes":{"resolveAct":"resolve","tnFvEpRetPolName":""}}}]}},{"fvBD":{"attributes":{"arpFlood":"no","descr":"","epMoveDetectMode":"","limitIpLearnToSubnets":"yes","llAddr":"::","mac":"00:22:BD:F8:19:FF","multiDstPktAct":"bd-flood","name":"BD_10-54-62-169_29","ownerKey":"","ownerTag":"","unicastRoute":"yes","unkMacUcastAct":"proxy","unkMcastAct":"flood","vmac":"not-applicable"},"children":[{"fvRsBDToNdP":{"attributes":{"tnNdIfPolName":""}}},{"fvRsBDToOut":{"attributes":{"tnL3extOutName":"L3out_External_VRF_1"}}},{"fvRsCtx":{"attributes":{"tnFvCtxName":"VRF_1"}}},{"fvRsIgmpsn":{"attributes":{"tnIgmpSnoopPolName":""}}},{"fvSubnet":{"attributes":{"ctrl":"querier","descr":"","ip":"10.54.62.169/29","name":"","preferred":"no","scope":"public","virtual":"no"}}},{"fvRsBdToEpRet":{"attributes":{"resolveAct":"resolve","tnFvEpRetPolName":""}}}]}},{"fvRsTenantMonPol":{"attributes":{"tnMonEPGPolName":""}}},{"fvAp":{"attributes":{"descr":"","name":"test-application1","ownerKey":"","ownerTag":"","prio":"unspecified"},"children":[{"fvAEPg":{"attributes":{"descr":"","isAttrBasedEPg":"no","matchT":"AtleastOne","name":"EPG-2","prio":"unspecified"},"children":[{"fvRsDomAtt":{"attributes":{"encap":"unknown","instrImedcy":"immediate","resImedcy":"immediate","tDn":"uni/vmmp-VMware/dom-VMM_ACI_vDVS_1"}}},{"fvRsCustQosPol":{"attributes":{"tnQosCustomPolName":""}}},{"fvRsBd":{"attributes":{"tnFvBDName":"BD_10-54-62-169_29"}}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"AccessList","locked":"no","name":"access-list-inbound","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"AccessControlEntry","locked":"no","name":"permit-http","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"action","locked":"no","mandatory":"no","name":"action-permit","validation":"","value":"permit"}}},{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"order","locked":"no","mandatory":"no","name":"order1","validation":"","value":"10"}}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"destination_service","locked":"no","name":"dest-service","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"operator","locked":"no","mandatory":"no","name":"op","validation":"","value":"eq"}}},{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"low_port","locked":"no","mandatory":"no","name":"port","validation":"","value":"http"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"source_address","locked":"no","name":"src-address","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"any","locked":"no","mandatory":"no","name":"any","validation":"","value":"any"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"protocol","locked":"no","name":"tcp","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"name_number","locked":"no","mandatory":"no","name":"tcp","validation":"","value":"tcp"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"destination_address","locked":"no","name":"dest-address","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"any","locked":"no","mandatory":"no","name":"any","validation":"","value":"any"}}}]}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"AccessControlEntry","locked":"no","name":"permit-https","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"action","locked":"no","mandatory":"no","name":"action-permit","validation":"","value":"permit"}}},{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"order","locked":"no","mandatory":"no","name":"order1","validation":"","value":"10"}}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"destination_service","locked":"no","name":"dest-service","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"operator","locked":"no","mandatory":"no","name":"op","validation":"","value":"eq"}}},{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"low_port","locked":"no","mandatory":"no","name":"port","validation":"","value":"https"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"source_address","locked":"no","name":"src-address","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"any","locked":"no","mandatory":"no","name":"any","validation":"","value":"any"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"protocol","locked":"no","name":"tcp","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"name_number","locked":"no","mandatory":"no","name":"tcp","validation":"","value":"tcp"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"destination_address","locked":"no","name":"dest-address","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"any","locked":"no","mandatory":"no","name":"any","validation":"","value":"any"}}}]}}]}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"Interface","locked":"no","name":"externalIf","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"InterfaceConfig","locked":"no","name":"externalIfCfg","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"security_level","locked":"no","mandatory":"no","name":"external_security_level","validation":"","value":"50"}}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"IPv4Address","locked":"no","name":"IPv4Address","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"ipv4_address","locked":"no","mandatory":"no","name":"ipv4_address","validation":"","value":"10.54.62.131/29"}}}]}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"AccessGroup","locked":"no","name":"ExtAccessGroup","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsCfgRelInst":{"attributes":{"cardinality":"unspecified","key":"inbound_access_list_name","locked":"no","mandatory":"no","name":"name","targetName":"access-list-inbound"}}}]}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"InIntfConfigRelFolder","locked":"no","name":"IntConfig","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsCfgRelInst":{"attributes":{"cardinality":"unspecified","key":"InIntfConfigRel","locked":"no","mandatory":"no","name":"InConfigrel","targetName":"internalIf"}}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"Interface","locked":"no","name":"internalIf","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"InterfaceConfig","locked":"no","name":"internalIfCfg","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"security_level","locked":"no","mandatory":"no","name":"internal_security_level","validation":"","value":"100"}}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"IPv4Address","locked":"no","name":"IPv4Address","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsParamInst":{"attributes":{"cardinality":"unspecified","key":"ipv4_address","locked":"no","mandatory":"no","name":"ipv4_address","validation":"","value":"10.54.62.139/29"}}}]}}]}}]}},{"vnsFolderInst":{"attributes":{"cardinality":"unspecified","ctrctNameOrLbl":"Con_Allow_Any","devCtxLbl":"","graphNameOrLbl":"SG_ASAv_Template","key":"ExIntfConfigRelFolder","locked":"no","name":"ExtConfig","nodeNameOrLbl":"Firewall","scopedBy":"epg"},"children":[{"vnsCfgRelInst":{"attributes":{"cardinality":"unspecified","key":"ExIntfConfigRel","locked":"no","mandatory":"no","name":"ExtConfigrel","targetName":"externalIf"}}}]}},{"fvCrtrn":{"attributes":{"descr":"","match":"any","name":"default","ownerKey":"","ownerTag":"","prec":"0"}}},{"fvRsProv":{"attributes":{"matchT":"AtleastOne","prio":"unspecified","tnVzBrCPName":"Con_Ten_Windows"}}},{"fvRsProv":{"attributes":{"matchT":"AtleastOne","prio":"unspecified","tnVzBrCPName":"Con_Ten_DB"}}}]}},{"fvAEPg":{"attributes":{"descr":"","isAttrBasedEPg":"no","matchT":"AtleastOne","name":"EPG-1","prio":"unspecified"},"children":[{"fvRsDomAtt":{"attributes":{"encap":"unknown","instrImedcy":"immediate","resImedcy":"immediate","tDn":"uni/vmmp-VMware/dom-VMM_ACI_vDVS_1"}}},{"fvRsCustQosPol":{"attributes":{"tnQosCustomPolName":""}}},{"fvRsBd":{"attributes":{"tnFvBDName":"BD_10-54-62-161_29"}}},{"fvCrtrn":{"attributes":{"descr":"","match":"any","name":"default","ownerKey":"","ownerTag":"","prec":"0"}}},{"fvRsProv":{"attributes":{"matchT":"AtleastOne","prio":"unspecified","tnVzBrCPName":"Con_Ten_Windows"}}},{"fvRsProv":{"attributes":{"matchT":"AtleastOne","prio":"unspecified","tnVzBrCPName":"Con_Ten_HTTP"}}}]}}]}},{"ospfIfPol":{"attributes":{"cost":"unspecified","ctrl":"","deadIntvl":"40","descr":"","helloIntvl":"10","name":"IntPol_OSPF_P2P","nwT":"p2p","ownerKey":"","ownerTag":"","prio":"1","rexmitIntvl":"5","xmitDelay":"1"}}},{"l3extOut":{"attributes":{"descr":"","enforceRtctrl":"export","name":"L3out_External_VRF_1","ownerKey":"","ownerTag":"","targetDscp":"unspecified"},"children":[{"l3extRsEctx":{"attributes":{"tnFvCtxName":"VRF_1"}}},{"l3extLNodeP":{"attributes":{"descr":"","name":"NP_Leaf101","ownerKey":"","ownerTag":"","tag":"yellow-green","targetDscp":"unspecified"},"children":[{"l3extRsNodeL3OutAtt":{"attributes":{"rtrId":"333.333.333.333","rtrIdLoopBack":"yes","tDn":"topology/pod-1/node-101"},"children":[{"l3extLoopBackIfP":{"attributes":{"addr":"333.333.333.333","descr":"","name":""}}}]}},{"l3extLIfP":{"attributes":{"descr":"","name":"IntProf_OSPF","ownerKey":"","ownerTag":"","tag":"yellow-green"},"children":[{"ospfIfP":{"attributes":{"authKeyId":"1","authType":"none","descr":"","name":""},"children":[{"ospfRsIfPol":{"attributes":{"tnOspfIfPolName":"IntPol_OSPF_P2P"}}}]}},{"l3extRsNdIfPol":{"attributes":{"tnNdIfPolName":"default"}}},{"l3extRsPathL3OutAtt":{"attributes":{"addr":"10.54.63.12/31","descr":"","encap":"vlan-1153","encapScope":"local","ifInstT":"sub-interface","llAddr":"::","mac":"00:22:BD:F8:19:FF","mode":"regular","mtu":"9000","tDn":"topology/pod-1/paths-101/pathep-[eth1/48]","targetDscp":"unspecified"}}}]}}]}},{"l3extRsL3DomAtt":{"attributes":{"tDn":"uni/l3dom-L3dom_External"}}},{"l3extInstP":{"attributes":{"descr":"","matchT":"AtleastOne","name":"Ext_L3_OSPF","prio":"unspecified","targetDscp":"unspecified"},"children":[{"fvRsCons":{"attributes":{"prio":"unspecified","tnVzBrCPName":"Con_Ten_Windows"}}},{"fvRsCons":{"attributes":{"prio":"unspecified","tnVzBrCPName":"Con_Ten_HTTP"}}},{"fvRsCons":{"attributes":{"prio":"unspecified","tnVzBrCPName":"Con_Ten_DB"}}},{"l3extSubnet":{"attributes":{"aggregate":"","descr":"","ip":"0.0.0.0/0","name":"","scope":"import-security"}}},{"fvRsCustQosPol":{"attributes":{"tnQosCustomPolName":""}}}]}},{"ospfExtP":{"attributes":{"areaCost":"1","areaCtrl":"redistribute,summary","areaId":"backbone","areaType":"regular","descr":""}}}]}}]}}
resp = sesh.post('https://{0}/api/node/mo/uni/tn-tenant3.json'.format(apic), cookies = cookies, data = json.dumps(jsondata), verify = False)
print resp
